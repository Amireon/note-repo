本章从分析CPU的功能和内部结构入手，详细套路机器完成一条指令的全过程，为了提高数据的处理能力、开发系统的并行性所采取的流水技术，还概括了中断技术在提高整机系统效能方面的作用。

# 8.1 CPU的结构
## 1.CPU的功能
指令控制、操作控制、时间控制、数据加工、处理中断

1.控制器的功能
- 取指令
- 分析指令
- 执行指令
- 控制程序输入及结果的输出
- 总线管理
- 处理异常情况和特殊请求
- 总线管理
- 处理异常情况和特殊请求

2.运算器的功能
实现算术运算和逻辑运算

## 2.CPU结构框图 
1. CPU与系统总线
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202211041525616.png)

2. CPU的内部结构
![CPU的内部结构](https://ypic.oss-cn-hangzhou.aliyuncs.com/202211041523855.png)

## 3.CPU中的寄存器
1. 用户可见寄存器
| 类型         | 存放数据类型                         | 用途                                 |
| ------------ | ------------------------------------ | ------------------------------------ |
| 通用寄存器   | 存放操作数                           | 可作某种寻址方式所需的专用寄存器     |
| 数据寄存器   | 存放操作数（满足各种数据类型）       | 两个寄存器拼接存放双倍字长数据       |
| 地址寄存器   | 存放地址（其位数应满足最大地址范围） | 用于特殊的寻址方式，如段基址、栈指针 |
| 条件码寄存器 | 存放条件码                           | 可作程序分支的依据，如正、零、溢出等 |

2. 控制和状态寄存器
| 控制寄存器 | 作用                                                                   |
| ---- | ---------------------------------------------------------------------- |
| PC   | 程序计数器，存放现行指令的地址                                         |
| MAR  | 存储器地址寄存器，用于存放将被访问的存储单元的地址                     |
| MDR  | 存储器数据寄存器，用于存放欲存入存储器的数据或最近从存储器中读出的数据 |
| IR   | 指令寄存器，存放当前欲执行的指令                                                                       |
其中，MAR、MDR、IR用户不可见，PC用户可见
| 状态寄存器 | 作用       |
| ---------- | ---------- |
| 状态寄存器 | 存放条件码 |
| PSW寄存器  | 存放程序状态字           |

3. 控制单元CU和中断系统
CU 产生全部指令的微操作命令序列，俩种方式：
- 组合逻辑设计，硬连线逻辑
- 微程序设计，存储逻辑

中断系统主要用于处理计算机的各种中断

# 8.2 指令周期



# 8.3 指令流水



# 8.4 中断系统
