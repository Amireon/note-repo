**本章目标**
- 理解网络服务的基本原理，聚焦于其数据平面
	- 网络服务模型
	- 转发和路由
	- 路由器工作原理
	- 通用转发
- 互联网中网络层协议的实例和实现

## 4.1 导论
**1.网络层服务**
- 在发送主机和接收主机对之间传送段(segment)
- 在发送端将段封装到数据报中
- 在接收端，将段上交给传输层实体
- 网络层协议存在于每一个主机和路由器
- 路由器检查每一个经过它的IP数据报的头部

**2.网络层功能**
- 转发:将分组从路由器的输入接口转发到合适的输出接口
- 路由：使用路由算法来决定分组从发送主机到目标接收主机的路径
	- 路由选择算法
	- 路由选择协议

**3.数据平面与控制平面**
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202301091947237.png)

传统方式：每-路由器(Per-router)控制平面
在每一个路由器中的单独路由器算法元件，在控制平面进行交互
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202301091949664.png)

传统方式：路由和转发的相互作用
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202301091950328.png)

SDN方式：逻辑集中的控制平面
一个不同的（通常是远程的）控制器与本地控制代理（CAs）交互
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202301091951165.png)



## 4.2 路由器组成


## 4.3 IP


## 4.4 通用转发和SDN


