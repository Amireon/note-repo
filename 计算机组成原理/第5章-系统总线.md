本章重点分析I/O设备与主机交换信息的三种控制方式（程序控制、中断和DMA）及其相应的接口功能和组成，对几种常用的I/O设备也进行了简单介绍.

章节总览
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202212101009829.png)


## 5.1 I/O系统基本概念
### I/O系统演变过程
程序查询方式、中断方式、DMA方式                       
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202212101013380.png)

### I/O系统基本组成
一般来说，I/0系统由I/O软件和I/O硬件两部分构成

**1.I/O软件**
通常采用I/O指令和通道指令实现CPU和I/O设备的信息交换
- I/O指令：CPU指令的一部分，操作码+命令码+设备码
- 通道指令：通道自身的指令，指出数组的首地址、传送字数、操作命令，存放在主存中

**2.I/O硬件**
包括外部设备、设备控制器和接口、I/O总线等
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202212101027751.png)

### I/O设备编址方式
**1.统一编制**
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202212151517206.png)

- 把I/O端口当做存储器的单元进行地址分配，用统一的**访存指令**访问I/O端口，又称存储器映射方式
- 依靠不同的**地址码**区分内存和I/O设备，I/O地址要求相对固定在地址的某部分。
- **优点**：不需要专门的输入/输出指令，可使CPU访问I/O的操作更灵活、更方便，还可使端口有较大的编址空间
- **缺点**：端口占用了存储器地址，使内存容量变小，而且利用存储器编址的I/O设备进行数据输入/输出操作，执行速度较慢

**2.独立编址（不统一编址）**
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202212151517208.png)

- I/O端口地址与存储器地址无关，独立编址CPU需要设置**专门的输入/输出指令**访问端口，又称I/O映射方式
- 依靠不同的指令区分内存和I/O设备
- **优点**：输入/输出指令与存储器指令有明显区别，程序编制清晰
- **缺点**：需要额外I/O控制指令；输入/输出指令少，一般只能对端口进行传送操作，尤其需要CPU提供存储器读/写、I/O设备读/写两组控制信号，增加了控制的复杂性

小结
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202212101049757.png)

### I/O设备的控制方式
1.查询控制方式 
CPU 和 I/O 串行工作，踏步等待

2.程序中断方式
I/O工作：
当I/O设备处于准备状态时，CPU不执行I/O指令
当I/O设备将要与主机交换信息时，CPU暂停现行程序

3.DMA方式
主存与I/O之间有一条直接数据通道
不中断现行程序
周期挪用

三种方式的CPU工作效率比较
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202212151800382.png)


## 5.2 I/O接口
![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202212101056729.png)








![](https://ypic.oss-cn-hangzhou.aliyuncs.com/202212101119980.png)



## 5.3程序查询方式


## 5.4程序中断方式


## 5.5DMA方式